# 摩托车成本分析模型 - 字段定义与逻辑关系文档

## 文档概述

本文档详细列出了摩托车成本分析模型项目中所有涉及的数据字段、配置参数、计算逻辑及其相互关系。

---

## 1. 配置常量字段

**文件位置：** `config.js`

### 1.1 应用配置常量

| 字段名 | 类型 | 默认值 | 说明 |
|-------|------|--------|------|
| `DEFAULT_SCHEME_KEY` | String | `'120.8'` | 默认激活的计算方案 |
| `DEFAULT_ANALYSIS_TAB` | String | `'combined'` | 默认显示标签页（综合/车险/摩托） |
| `THEME_STORAGE_KEY` | String | `'costInsightProTheme'` | 本地存储主题配置的键名 |

### 1.2 指标配置（14个核心指标）

**位置：** `APP_CONFIG.INDICATOR_CONFIG` (config.js, 第8-23行)

| 指标键 | 中文名称 | 颜色策略 | 是否比率 | 特殊属性 | 业务含义 |
|-------|---------|---------|---------|---------|---------|
| `PREMIUM` | 保费 | neutral | ✗ | - | 保险收入基数 |
| `LOSS` | 赔款 | neutral | ✗ | - | 理赔支出金额 |
| `HANDLING_FEE` | 手续费 | neutral | ✗ | - | 业务处理费用 |
| `SALES_PROMOTION` | 销推费用 | neutral | ✗ | - | 营销推广成本 |
| `LABOR_COST` | 人力成本 | neutral | ✗ | - | 人员工资及福利 |
| `EDGE_CONTRIBUTION` | 边际贡献额 | conditional | ✗ | positiveGood: true | 扣除变动成本后的贡献 |
| `PROFIT` | 利润 | conditional | ✗ | positiveGood: true | 净利润金额 |
| `TCR` | 综合成本率 | conditional | ✓ | threshold: 1, higherIsWorse: true | 总成本占保费比例 |
| `VCR` | 变动成本率 | conditional | ✓ | threshold: 0.9, higherIsWorse: true | 变动成本占保费比例 |
| `LOSS_RATIO` | 赔付率 | neutral | ✓ | - | 赔款占保费比例 |
| `HANDLING_FEE_RATIO` | 手续费率 | neutral | ✓ | - | 手续费占保费比例 |
| `SALES_PROMOTION_RATIO` | 销推费用率 | neutral | ✓ | - | 销推费占保费比例 |
| `LABOR_COST_RATIO` | 人力成本率 | neutral | ✓ | - | 人力成本占保费比例 |
| `EDGE_CONTRIBUTION_RATIO` | 边际贡献率 | conditional | ✓ | positiveGood: true | 边际贡献占保费比例 |

**颜色策略说明：**
- `neutral`：中性灰色显示
- `conditional`：根据数值好坏动态调整颜色（绿色=良好，红色=需改进）

### 1.3 指标分组

**绝对值指标组（用于金额图表）：**
```
['PREMIUM', 'LOSS', 'HANDLING_FEE', 'SALES_PROMOTION', 'LABOR_COST', 'EDGE_CONTRIBUTION', 'PROFIT']
```

**比率指标组（用于比率图表）：**
```
['TCR', 'VCR', 'LOSS_RATIO', 'HANDLING_FEE_RATIO', 'SALES_PROMOTION_RATIO', 'LABOR_COST_RATIO', 'EDGE_CONTRIBUTION_RATIO']
```

### 1.4 预设方案配置

**位置：** `APP_CONFIG.SCHEMES` (config.js, 第26-31行)

| 方案键 | 方案名称 | 车险赔付率 | 摩托赔付率 | 说明 |
|-------|---------|-----------|-----------|------|
| `'150'` | 方案A | 150% | 4% | 高赔付场景 |
| `'135'` | 方案B | 135% | 4% | 中高赔付场景 |
| `'120.8'` | 方案C（保本） | 120.8% | 4% | **盈亏平衡点** |
| `'110'` | 方案D | 110% | 4% | 低赔付/盈利场景 |

---

## 2. 输入参数字段（15个）

**文件位置：** `index.html` (参数表格区域，第108-262行) 和 `config.js` (INPUT_SELECTORS)

**新增特性：**
- 表格化展示：按成本类型（管理成本/变动成本）和产品类型（车险/摩意险）分组
- 折叠展开功能：支持逐级展开折叠参数分组
- 输入自动跳转：按Enter键自动跳转到下一个参数输入框
- 摩意险保费配比实时显示：在参数面板顶部实时显示计算结果

### 2.1 基础参数（管理成本）（2个）

| 字段名 | DOM ID | 类型 | 默认值 | 单位 | 步进 | 说明 | 下一个跳转 |
|-------|--------|------|--------|------|------|------|-----------|
| `laborBaseRate` | #laborBaseRate | number | 2.8 | % | 0.1 | 人力成本基准系数 | fixedOperationRate |
| `fixedOperationRate` | #fixedOperationRate | number | 7.21 | % | 0.01 | 固定运营成本率 | carPremium |

### 2.2 车险参数（变动成本）（5个）

| 字段名 | DOM ID | 类型 | 默认值 | 单位 | 步进 | 说明 | 下一个跳转 |
|-------|--------|------|--------|------|------|------|-----------|
| `carPremium` | #carPremium | number | 1000 | 万元 | 100 | 车险保费基数 | carLossRatio |
| `carLossRatio` | #carLossRatio | number | 104.2 | % | 0.1 | 车险赔付率 | carHandlingFeeRate |
| `carHandlingFeeRate` | #carHandlingFeeRate | number | 0 | % | 0.1 | 车险手续费率 | carSalesPromotionRate |
| `carSalesPromotionRate` | #carSalesPromotionRate | number | 0.3 | % | 0.1 | 车险销推费率 | carStandardPremiumRatio |
| `carStandardPremiumRatio` | #carStandardPremiumRatio | number | 0.5 | - | 0.1 | 车险标准保费系数 | carAveragePremium |

### 2.3 摩意险参数（变动成本）（8个）

| 字段名 | DOM ID | 类型 | 默认值 | 单位 | 步进 | 说明 | 下一个跳转 |
|-------|--------|------|--------|------|------|------|-----------|
| `carAveragePremium` | #carAveragePremium | number | 120 | 元 | 1 | 摩托车车险单均保费 | motoAveragePremium |
| `motoAveragePremium` | #motoAveragePremium | number | 100 | 元 | 1 | 摩意险件均保费 | motoQuantity |
| `motoQuantity` | #motoQuantity | number | 2 | 份 | 0.01 | 摩意险份数 | motoLossRatio |
| `motoLossRatio` | #motoLossRatio | number | 4 | % | 0.1 | 摩意险赔付率 | motoWithCarFeeRate |
| `motoWithCarFeeRate` | #motoWithCarFeeRate | number | 65 | % | 0.1 | 摩意险随车业务费用率 | motoCardFeeRate |
| `motoCardFeeRate` | #motoCardFeeRate | number | 85 | % | 0.1 | 摩意险卡单费用率 | motoSalesPromotionRate |
| `motoSalesPromotionRate` | #motoSalesPromotionRate | number | 0.9 | % | 0.1 | 销售推动费用率 | motoStandardPremiumRatio |
| `motoStandardPremiumRatio` | #motoStandardPremiumRatio | number | 1.8 | - | 0.1 | 摩意险标准保费系数 | (无) |

### 2.4 摩意险保费配比（计算字段）

| 字段名 | DOM ID | 类型 | 计算公式 | 显示位置 | 说明 |
|-------|--------|------|---------|---------|------|
| `motoPremiumRatio` | #motoPremiumRatioDisplay | number | `(motoAveragePremium × motoQuantity) ÷ carAveragePremium` | 参数面板顶部 | 摩意险保费相对车险的配比，实时计算显示 |

**计算示例：**
- 摩意险件均保费 = 100元
- 摩意险份数 = 2份
- 摩托车车险单均保费 = 120元
- **保费配比 = (100 × 2) ÷ 120 = 166.67%**

---

## 3. 计算输出字段（84个）

**文件位置：** `main.js` - `performCalculations()` 函数 (第127-133行)

### 数据结构
```javascript
{
  car: {
    absolute: [7个绝对值],
    rate: [7个比率值]
  },
  moto: {
    absolute: [7个绝对值],
    rate: [7个比率值]
  },
  combined: {
    absolute: [7个绝对值],
    rate: [7个比率值]
  }
}
```

### 3.1 车险 - 绝对值（7个）

| 索引 | 字段名 | 计算公式 | 单位 |
|-----|--------|---------|------|
| 0 | 车险保费 | 输入值 `carPremium` | 万元 |
| 1 | 车险赔款 | `carPremium × carLossRatio` | 万元 |
| 2 | 车险手续费 | `carPremium × carHandlingFeeRate` | 万元 |
| 3 | 车险销推费 | `carPremium × carSalesPromotionRate` | 万元 |
| 4 | 车险人力成本 | `carPremium × carStandardPremiumRatio × laborBaseRate` | 万元 |
| 5 | 车险边际贡献 | `carPremium × (1 - carVariableCostRate)` | 万元 |
| 6 | 车险利润 | `carPremium × (1 - carTotalCostRate)` | 万元 |

### 3.2 车险 - 比率（7个）

| 索引 | 字段名 | 计算公式 | 范围 |
|-----|--------|---------|------|
| 0 | 车险综合成本率 | `carVariableCostRate + fixedOperationRate` | 0-1 |
| 1 | 车险变动成本率 | `carLossRatio + carHandlingFeeRate + carSalesPromotionRate + carLaborCostRate` | 0-1 |
| 2 | 车险赔付率 | 输入值 `carLossRatio` | 0-1 |
| 3 | 车险手续费率 | 输入值 `carHandlingFeeRate` | 0-1 |
| 4 | 车险销推费率 | 输入值 `carSalesPromotionRate` | 0-1 |
| 5 | 车险人力成本率 | `carStandardPremiumRatio × laborBaseRate` | 0-1 |
| 6 | 车险边际贡献率 | `1 - carVariableCostRate` | 0-1 |

### 3.3 摩托险 - 绝对值（7个）

| 索引 | 字段名 | 计算公式 | 单位 |
|-----|--------|---------|------|
| 0 | 摩托保费 | `carPremium × motoPremiumRatio` | 万元 |
| 1 | 摩托赔款 | `motoPremium × motoLossRatio` | 万元 |
| 2 | 摩托手续费 | `motoPremium × motoHandlingFeeRate` | 万元 |
| 3 | 摩托销推费 | `motoPremium × motoSalesPromotionRate` | 万元 |
| 4 | 摩托人力成本 | `motoPremium × motoStandardPremiumRatio × laborBaseRate` | 万元 |
| 5 | 摩托边际贡献 | `motoPremium × (1 - motoVariableCostRate)` | 万元 |
| 6 | 摩托利润 | `motoPremium × (1 - motoTotalCostRate)` | 万元 |

### 3.4 摩托险 - 比率（7个）

| 索引 | 字段名 | 计算公式 | 范围 |
|-----|--------|---------|------|
| 0 | 摩托综合成本率 | `motoVariableCostRate + fixedOperationRate` | 0-1 |
| 1 | 摩托变动成本率 | `motoLossRatio + motoHandlingFeeRate + motoSalesPromotionRate + motoLaborCostRate` | 0-1 |
| 2 | 摩托赔付率 | 输入值 `motoLossRatio` | 0-1 |
| 3 | 摩托手续费率 | 输入值 `motoHandlingFeeRate` | 0-1 |
| 4 | 摩托销推费率 | 输入值 `motoSalesPromotionRate` | 0-1 |
| 5 | 摩托人力成本率 | `motoStandardPremiumRatio × laborBaseRate` | 0-1 |
| 6 | 摩托边际贡献率 | `1 - motoVariableCostRate` | 0-1 |

### 3.5 综合（车+摩托）- 绝对值（7个）

| 索引 | 字段名 | 计算公式 | 单位 |
|-----|--------|---------|------|
| 0 | 总保费 | `carPremium + motoPremium` | 万元 |
| 1 | 总赔款 | `carLoss + motoLoss` | 万元 |
| 2 | 总手续费 | `carHandlingFee + motoHandlingFee` | 万元 |
| 3 | 总销推费 | `carSalesPromotion + motoSalesPromotion` | 万元 |
| 4 | 总人力成本 | `carLaborCost + motoLaborCost` | 万元 |
| 5 | 总边际贡献 | `carEdgeContribution + motoEdgeContribution` | 万元 |
| 6 | 总利润 | `carProfit + motoProfit` | 万元 |

### 3.6 综合 - 比率（7个）

| 索引 | 字段名 | 计算公式 | 范围 |
|-----|--------|---------|------|
| 0 | 综合成本率 | `totalVariableCostRate + fixedOperationRate` | 0-1 |
| 1 | 综合变动成本率 | `totalVariableCost / totalPremium` | 0-1 |
| 2 | 综合赔付率 | `totalLoss / totalPremium` | 0-1 |
| 3 | 综合手续费率 | `totalHandlingFee / totalPremium` | 0-1 |
| 4 | 综合销推费率 | `totalSalesPromotion / totalPremium` | 0-1 |
| 5 | 综合人力成本率 | `totalLaborCost / totalPremium` | 0-1 |
| 6 | 综合边际贡献率 | `1 - totalVariableCostRate` | 0-1 |

---

## 4. KPI 显示字段（4个）

**文件位置：** `main.js` - `updateKPIs()` 函数 (第104-117行)

| KPI字段 | DOM ID | 数据来源 | 格式化方式 | 说明 |
|--------|--------|---------|-----------|------|
| 总利润 | #kpiTotalProfit | combined.absolute[6] | 保留1位小数 + "万元" | 车险+摩托险总利润 |
| 综合成本率 | #kpiTotalCostRate | combined.rate[0] | 百分比 × 100 + "%" | 总成本占总保费比例 |
| 总保费 | #kpiTotalPremium | combined.absolute[0] | 保留1位小数 + "万元" | 车险+摩托险总保费 |
| 总边际贡献 | #kpiTotalEdgeContribution | combined.absolute[5] | 保留1位小数 + "万元" | 扣除变动成本后的贡献 |

---

## 5. 洞察摘要字段

**文件位置：** `main.js` - `updateContextInsight()` 函数 (第70-87行)

| 字段名 | 类型 | 计算来源 | 说明 |
|-------|------|---------|------|
| `isHealthy` | boolean | `profit >= 0 && tcr <= 1` | 业务健康状态判断 |
| `headline` | string | 动态生成 | 主标题："盈利区间健康" 或 "需要重点优化亏损" |
| `insight` | string | 动态生成 | 详细业务建议内容 |
| `subline` | string | 模板字符串 | 支持数据摘要（包含关键指标） |

**洞察逻辑：**
```javascript
if (profit >= 0 && tcr <= 1) {
  状态 = "健康"
  建议 = "保持当前策略..."
} else {
  状态 = "需优化"
  建议 = "重点关注成本控制..."
}
```

---

## 6. 图表配置元数据（6个图表）

**文件位置：** `main.js` (CHART_META, 第263-270行)

| 图表键 | 图表类型 | 数据来源 | 标题 | 生成函数 |
|-------|---------|---------|------|---------|
| `carAbsolute` | bar | car.absolute | 关键指标金额（万元） | createAbsoluteChartOption |
| `carRate` | bar | car.rate | 核心效能比率（%） | createRateChartOption |
| `motoAbsolute` | bar | moto.absolute | 关键指标金额（万元） | createAbsoluteChartOption |
| `motoRate` | bar | moto.rate | 核心效能比率（%） | createRateChartOption |
| `combinedAbsolute` | bar | combined.absolute | 关键指标金额（万元） | createAbsoluteChartOption |
| `combinedRate` | bar | combined.rate | 核心效能比率（%） | createRateChartOption |

**标签页到图表映射（TAB_CHARTS）：**
- `combined` → ['combinedAbsolute', 'combinedRate']
- `car` → ['carAbsolute', 'carRate']
- `moto` → ['motoAbsolute', 'motoRate']

---

## 7. 应用状态字段

**文件位置：** `main.js` (第3-7行)

| 字段名 | 类型 | 说明 |
|-------|------|------|
| `DOMElements` | object | 缓存的DOM元素引用（性能优化） |
| `EChartsInstances` | object | 活动的ECharts实例（6个图表） |
| `currentInputValues` | object | 当前输入值快照（用于变更检测） |
| `exportCounter` | number | 导出CSV文件的计数器 |
| `lastCalculatedData` | object | 最近一次计算结果缓存 |

---

## 8. 主题配置字段

**文件位置：** CSS变量 和 localStorage

### 8.1 主题颜色（CSS变量）

| CSS变量 | 深色模式 | 浅色模式 | 用途 |
|---------|---------|---------|------|
| `--color-positive` | #32d74b | #228435 | 正向指标颜色（利润、贡献等） |
| `--color-negative` | #ff453a | #d70015 | 负向指标颜色（亏损、高成本等） |
| `--color-neutral` | #8e8e93 | #6e6e73 | 中性指标颜色 |
| `--color-accent` | hsl(210, 100%, 50%) | hsl(210, 100%, 50%) | 主色调 |

### 8.2 图表调色板

**深色模式：**
```
['--color-accent', '#5e5ce6', '#64d2ff', '#ff9f0a', '#bf5af2', '#30d15b', '#ff453a']
```

**浅色模式：**
```
['--color-accent', '#5856d6', '#5ac8fa', '#ff9500', '#af52de', '#34c759', '#dc3545']
```

---

## 9. 数据导出字段

**文件位置：** `main.js` - `exportDataToCSV()` 函数 (第305-323行)

### CSV导出内容
- 车险指标（绝对值 + 比率）
- 摩托险指标（绝对值 + 比率）
- 综合指标（绝对值 + 比率）
- **文件命名格式：** `摩托车成本分析_YYYYMMDD_###.csv`
- **导出时间戳：** 包含在文件名中

---

## 10. 核心逻辑关系

### 10.1 数据流向图

```
┌──────────────────────────┐
│  输入参数（12个字段）      │
│  - 基础参数（2个）         │
│  - 车险参数（5个）         │
│  - 摩托险参数（5个）       │
└────────────┬─────────────┘
             │
             ↓
┌──────────────────────────┐
│  计算引擎                 │
│  performCalculations()   │
└────────────┬─────────────┘
             │
      ┌──────┴──────┐
      ↓             ↓
┌──────────┐  ┌──────────┐
│车险计算   │  │摩托险计算 │
│(14个字段) │  │(14个字段) │
└─────┬────┘  └────┬─────┘
      │            │
      └──────┬─────┘
             ↓
    ┌────────────────┐
    │  综合计算       │
    │  (14个字段)    │
    └────────┬───────┘
             │
       ┌─────┴─────┬─────────┬─────────┐
       ↓           ↓         ↓         ↓
   ┌──────┐   ┌───────┐  ┌──────┐  ┌──────┐
   │ KPI  │   │ 洞察  │  │ 图表 │  │ CSV  │
   │ 更新 │   │ 摘要  │  │ 渲染 │  │ 导出 │
   └──────┘   └───────┘  └──────┘  └──────┘
```

### 10.2 关键计算公式

#### A. 成本率计算
```
变动成本率 = 赔付率 + 手续费率 + 销推费率 + 人力成本率
人力成本率 = 标准保费系数 × 人力基准系数
综合成本率 = 变动成本率 + 固定运营成本率
```

#### B. 盈利能力指标
```
边际贡献 = 保费 × (1 - 变动成本率)
利润 = 保费 × (1 - 综合成本率)
边际贡献率 = 1 - 变动成本率
```

#### C. 综合指标（车+摩托）
```
总保费 = 车险保费 + (车险保费 × 摩托保费倍数)
总变动成本 = 总赔款 + 总手续费 + 总销推费 + 总人力成本
综合变动成本率 = 总变动成本 / 总保费
综合成本率 = 综合变动成本率 + 固定运营成本率
```

### 10.3 依赖关系矩阵

| 依赖字段 | 被依赖的基础字段 |
|---------|----------------|
| **车险人力成本** | carPremium, carStandardPremiumRatio, laborBaseRate |
| **车险变动成本率** | carLossRatio, carHandlingFeeRate, carSalesPromotionRate, carLaborCostRate |
| **车险综合成本率** | carVariableCostRate, fixedOperationRate |
| **车险利润** | carPremium, carTotalCostRate |
| **摩托保费** | carPremium, motoPremiumRatio |
| **摩托人力成本** | motoPremium, motoStandardPremiumRatio, laborBaseRate |
| **综合指标** | 对应的车险+摩托险字段 |
| **KPI显示** | combined.absolute[], combined.rate[] |
| **洞察摘要** | totalProfit, totalCostRate |

### 10.4 业务规则

1. **盈亏平衡点：** 综合成本率 = 100%（1.0）
2. **健康状态判断：** 利润 ≥ 0 且 综合成本率 ≤ 100%
3. **变动成本临界值：** 变动成本率建议 ≤ 90%（0.9）
4. **颜色指示规则：**
   - 利润/边际贡献：正值=绿色，负值=红色
   - 成本率：≤阈值=绿色，>阈值=红色

---

## 11. 参数面板UI增强功能

### 11.1 表格化展示

**位置：** `index.html` (第115-261行)

参数采用表格形式展示，包含以下列：
- **成本类型**：管理成本/变动成本
- **产品类型**：通用/车险/摩意险
- **参数名称**：参数的中文名称
- **默认值**：参数的默认数值
- **当前值**：可编辑的输入框
- **单位**：参数的计量单位

### 11.2 折叠展开功能

**实现文件：** `main.js` (initParameterTableCollapse函数，第38-58行)

**功能特性：**
- 支持按成本类型折叠展开（管理成本、变动成本）
- 支持按产品类型折叠展开（车险、摩意险）
- 点击分类行标题即可切换展开/折叠状态
- 折叠图标（▶）会随状态旋转90度

**默认状态：** 所有分类默认折叠

### 11.3 输入自动跳转

**实现文件：** `main.js` (setupInputAutoFocus函数，第61-78行)

**功能特性：**
- 在任意参数输入框中按Enter键
- 自动跳转到下一个参数的输入框
- 自动选中新输入框的内容
- 通过`data-next`属性定义跳转顺序

**跳转顺序：**
1. 管理成本：laborBaseRate → fixedOperationRate
2. 车险参数：carPremium → carLossRatio → ... → carStandardPremiumRatio
3. 摩意险参数：carAveragePremium → motoAveragePremium → ... → motoStandardPremiumRatio

### 11.4 摩意险保费配比实时显示

**实现文件：** `main.js` (updateMotoPremiumRatioDisplay函数，第81-94行)

**显示位置：** 参数面板顶部（#motoPremiumRatioDisplay）

**计算逻辑：**
```javascript
保费配比 = (摩意险件均保费 × 摩意险份数) ÷ 摩托车车险单均保费 × 100%
```

**更新时机：**
- 参数面板打开时
- 任意相关参数（carAveragePremium、motoAveragePremium、motoQuantity）变更时
- 切换预设方案时

---

## 12. 字段统计汇总

| 类别 | 数量 |
|------|------|
| **输入参数** | 15个（2基础 + 5车险 + 8摩意险） |
| **计算显示字段** | 1个（摩意险保费配比） |
| **计算输出字段** | 84个（3类 × 14指标 × 2维度） |
| **KPI显示字段** | 4个 |
| **配置指标** | 14个（7绝对值 + 7比率） |
| **预设方案** | 4个（A/B/C/D方案） |
| **图表** | 6个（3标签页 × 2图表类型） |
| **主题模式** | 2个（深色/浅色） |
| **分析标签页** | 3个（综合/车险/摩意险） |

---

## 13. 关键业务逻辑

### 13.1 方案切换逻辑
```javascript
用户选择方案 → 加载预设参数 → 触发计算 → 更新所有视图 → 更新保费配比显示
```

### 13.2 实时计算触发
```javascript
输入值变更 → debounce(300ms) → performCalculations() → 更新KPI/图表/洞察/保费配比
```

### 13.3 数据验证
- 所有比率字段：0.1步进，支持小数点后1位
- 保费字段：100步进，整数
- 倍数字段：0.01/0.1步进
- 摩意险份数：0.01步进，支持小数点后2位

### 13.4 图表自适应
```javascript
标签页切换 → 显示对应图表 → resize图表适应容器 → 应用主题配置
```

### 13.5 参数面板交互
```javascript
打开参数面板 → 初始化折叠状态 → 设置输入跳转链 → 更新保费配比显示
点击分类行 → 切换展开/折叠状态 → 显示/隐藏相关参数行
输入框Enter → 跳转到下一个输入框 → 选中内容
参数变更 → 实时更新保费配比 → 触发计算 → 更新所有视图
```

---

## 附录：文件位置索引

| 功能模块 | 文件 | 关键行数 |
|---------|------|---------|
| 配置定义 | config.js | 全文（1-70行） |
| 参数表格 | index.html | 108-262行（表格化参数面板） |
| 计算引擎 | main.js | 184-193行 |
| KPI更新 | main.js | 122-135行 |
| 洞察生成 | main.js | 70-105行 |
| 图表配置 | main.js | 248-464行 |
| 数据导出 | main.js | 508-606行 |
| 主题切换 | styles.css | 26-63行（CSS变量） |
| 折叠展开 | main.js | 38-58行 |
| 输入跳转 | main.js | 61-78行 |
| 保费配比显示 | main.js | 81-94行 |
| 参数表格样式 | styles.css | 209-335行 |

---

**文档版本：** 2.0
**更新日期：** 2025-12-06
**项目分支：** claude/refactor-parameters-panel-012nM6RxT4agFEiDVzBTpMd6
**更新内容：**
- 参数面板表格化重构
- 新增折叠展开功能
- 新增输入自动跳转功能
- 新增摩意险保费配比实时显示
- 更新参数字段定义和默认值
